<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    <title>Maven自定义插件实现 - 持之以恒</title>
    <meta property="og:title" content="Maven自定义插件实现 - 持之以恒">
    

    
      
    

    

    
    

    <link rel="stylesheet" href="/css/style.css" />
    <link rel="stylesheet" href="/css/fonts.css" />
    <link rel="stylesheet" href="/css/custom.css" />
    <link rel="stylesheet" href="/css/custom.css" />

  </head>

  
  <body class="blog">
    <header class="masthead">
      <h1 class="headimg">
    
    <a href="/"><img src="/img/headimg.png" alt="Fuhui "></a>
</h1>



      <nav class="menu">
        <input id="menu-check" type="checkbox" />
        <label id="menu-label" for="menu-check" class="unselectable">
          <span class="icon close-icon">✕</span>
          <span class="icon open-icon">☰</span>
          <span class="text">Menu</span>
        </label>
        <ul>
        
        
        <li><a href="/blog/">Blog</a></li>
        
        <li><a href="/life/">Life</a></li>
        
        <li><a href="/resource/">Resource</a></li>
        
        <li><a href="/categories/">Categories</a></li>
        
        <li><a href="/tags/">Tags</a></li>
        
        <li><a href="/about/">About</a></li>
        
        


        </ul>
      </nav>
    </header>

    <article class="main">
      <header class="title">
      <h1>Maven自定义插件实现</h1>




    
    
    <section class="post-meta">
        <span class="post-author">sgl
        
            
            
             /  2019-07-06
            
        </span>
        
        <a href="/tags/maven">maven</a>
        
    </section>
    



<hr>
      </header>


<h2 id="mavenhttpmavenapacheorg"><a href="http://maven.apache.org/">maven开发</a></h2>
<h3 id="mavenhttpmavenapacheorgdevelopersindexhtml"><a href="http://maven.apache.org/developers/index.html">maven开发</a></h3>
<h3 id="mavenhttpmavenapacheorgplugin-developersindexhtml"><a href="http://maven.apache.org/plugin-developers/index.html">maven插件开发</a></h3>
<ol>
<li>插件和生命周期的某个阶段绑定</li>
<li>自定义插件命名为：<!-- raw HTML omitted -->-maven-plugin；maven-<!-- raw HTML omitted -->-plugin是官方插件的命名，拥有商标权</li>
<li></li>
</ol>
<h3 id="heading">插件分类</h3>
<ul>
<li>build插件：会在build阶段被执行，应该配置在POM的<!-- raw HTML omitted -->元素中</li>
<li>reporting插件：生成站点的时候会执行，应该配置在POM的<!-- raw HTML omitted -->元素中。因为reporting插件的结果是生成的站点的一部分，
所以这种插件应该是国际化和本地化的</li>
</ul>
<h3 id="heading-1">插件配置</h3>
<p>Maven插件都是通过指定一个<!-- raw HTML omitted -->元素来配置的。而该元素中的子元素，都是Mojo中的property。
详见<a href="http://maven.apache.org/guides/mini/guide-configuring-plugins.html">Guide to Configuring Plug-ins</a></p>
<ul>
<li>
<p>插件源码</p>
<p>/**</p>
<ul>
<li>
<p>@goal query
*/
public class MyQueryMojo
extends AbstractMojo
{
// property做为系统属性使用 -Dquery.url
@Parameter(property = &ldquo;query.url&rdquo;, required = true)
// url为field，对应于pom里的配置url,可以和上面的property不一致
private String url;</p>
<p>@Parameter(property = &ldquo;timeout&rdquo;, required = false, defaultValue = &ldquo;50&rdquo;)
private int timeout;</p>
<p>@Parameter(property = &ldquo;options&rdquo;)
private String[] options;</p>
<p>public void execute()
throws MojoExecutionException
{
&hellip;
}
}</p>
</li>
</ul>
</li>
<li>
<p>插件配置</p>
<!-- raw HTML omitted -->
</li>
<li>
<p>通过系统属性system properties定义参数</p>
<p>mvn myquery:query -Dquery.url=http://maven.apache.org</p>
</li>
</ul>
<h3 id="heading-2">插件代码规范</h3>
<p><a href="https://maven.apache.org/developers/conventions/code.html">Maven Code Style And Code Conventions</a></p>
<p>Download <a href="https://maven.apache.org/developers/maven-idea-codestyle.xml">maven-idea-codestyle.xml</a> and
copy it to ~/.IntelliJIDEA/config/codestyles then restart IDEA.
After this, restart IDEA and open the settings to select the new code style.</p>


  <footer>
  
<nav class="post-nav">
  <span class="nav-prev">&larr; <a href="/blog/2019/07/06/jenkins%E5%88%86%E5%B8%83%E5%BC%8F%E5%AE%9E%E7%8E%B0/">Jenkins分布式实现</a></span>
  <span class="nav-next"><a href="/blog/2019/07/06/%E9%95%BF%E8%BF%9E%E6%8E%A5/">长连接</a> &rarr;</span>
</nav>





<script src="//yihui.name/js/math-code.js"></script>
<script async src="//cdn.bootcss.com/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML"></script>

<script async src="//yihui.name/js/center-img.js"></script>

  

  
  <hr>
  <div class="copyright">© 2019 | <a href="https://github.com/shengulong">Github</a> | <a href="https://www.cnblogs.com/shengulong/">cnblogs</a> | <a href="https://shengulong.github.io/">Github Pages</a></div>
  
  </footer>
  </article>
  
  </body>
  




  <script src="/js/mermaid.min.js"></script>
  <script>
    
    mermaid.initialize({startOnLoad: true, theme: 'forest'});
  </script>




  </html>

